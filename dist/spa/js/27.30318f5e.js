(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{c1ef:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{},[a("Edit",{attrs:{user:t.user}})],1)},n=[],s=(a("e260"),a("d3b7"),a("ddb0"),a("278c")),i=a.n(s),r=a("6374"),l=a.n(r),u=a("bc3a"),c=a.n(u),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"q-pa-md",on:{submit:function(e){return e.preventDefault(),t.simulateSubmit(e)}}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md column",staticStyle:{"max-width":"300px"}},[a("q-card-section",[a("AvatarUpload",{attrs:{avatar:t.user.photo_url}}),a("q-item-label",{attrs:{caption:""}},[t._v("\n            Followers: "+t._s(t.user.follower_count)+" |\n            Following: "+t._s(t.user.following_count)+" |\n            Posts: "+t._s(t.user.post_count)+"\n          ")])],1),a("q-card-section",[a("div",{staticClass:"text-caption text-grey",on:{click:t.addName}},[a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" Name : ")]),a("q-input",{attrs:{dense:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"eva-person"}})]},proxy:!0}]),model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}},[a("q-popup-edit",{model:{value:t.editUser.name,callback:function(e){t.$set(t.editUser,"name",e)},expression:"editUser.name"}},[a("q-input",{ref:"Name",attrs:{dense:"",autofocus:"",counter:""},on:{input:function(e){return t.updateInput("Name")}},model:{value:t.editUser.name,callback:function(e){t.$set(t.editUser,"name",e)},expression:"editUser.name"}})],1)],1),a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" About:")]),a("div",{on:{click:t.aboutMe}},[a("div",{domProps:{innerHTML:t._s(t.user.about)}}),a("q-popup-edit",{attrs:{buttons:""},model:{value:t.user.about,callback:function(e){t.$set(t.user,"about",e)},expression:"user.about"}},[a("q-editor",{ref:"About",attrs:{"min-height":"5rem",autofocus:"",counter:""},on:{input:function(e){return t.updateInput("About")},set:function(e){return t.updateInput("About")}},model:{value:t.editUser.about,callback:function(e){t.$set(t.editUser,"about",e)},expression:"editUser.about"}})],1)],1),a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" User name : ")]),a("q-input",{attrs:{dense:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" Tagline : ")]),a("q-input",{attrs:{dense:""},model:{value:t.user.tagline,callback:function(e){t.$set(t.user,"tagline",e)},expression:"user.tagline"}}),a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" Email : ")]),a("q-input",{attrs:{dense:"",disable:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" Formatted Address: ")]),a("q-input",{attrs:{dense:""},model:{value:t.user.formatted_address,callback:function(e){t.$set(t.user,"formatted_address",e)},expression:"user.formatted_address"}}),a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" Available to hire?")]),a("q-toggle",{attrs:{"checked-icon":"check",color:"green","unchecked-icon":"clear"},model:{value:t.user.available_to_hire,callback:function(e){t.$set(t.user,"available_to_hire",e)},expression:"user.available_to_hire"}}),a("q-item-label",{staticClass:"text-overline text-orange-9"},[t._v(" Location Coordinates ")]),t._v("\n            "+t._s(t.user.location)+"\n\n\n            "),a("div",{staticClass:"row justify-end"},[a("q-btn",{staticClass:"q-mt-md",attrs:{type:"submit",loading:t.submitting,label:"Save",color:"teal"},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-facebook")]},proxy:!0}])})],1)],1),a("MapView")],1)],1)])])},m=[],p=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GmapMap",{staticStyle:{width:"500px",height:"300px"},attrs:{center:{lat:51.017243,lng:8.503972},zoom:7,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,disableDefaultUi:!1}}})}),v=[],f=a("2b0e"),h=a("755e");f["default"].use(h,{load:{key:"AIzaSyAMmXVxuzlGe0c0g7HsX24kLAORxwbF88A",libraries:"places,drawing,visualization"},installComponents:!0});var b={name:"MapView",mounted:function(){}},g=b,w=a("2877"),x=Object(w["a"])(g,p,v,!1,null,"3d89f90d",null),_=x.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("q-avatar",{on:{click:t.activateUpload}},[a("img",{attrs:{src:t.avatar}})]),t._v("\n  "+t._s(t.label)+"\n  "),a("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.showNotif,expression:"showNotif"}],attrs:{name:"eva-edit-2-outline"},on:{click:t.activateUpload}}),a("q-uploader",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],staticStyle:{"max-width":"300px"},attrs:{factory:t.factoryFn,multiple:"","auto-upload":"",label:"Upload Avatar"}})],1)},q=[],k={name:"AvatarUpload",props:["avatar"],data:function(){return{myFiles:[""],showUpload:!1,label:"Change avatar",showLabel:!0,showSave:!1}},methods:{activateUpload:function(){return this.showUpload=!this.showUpload},factoryFn:function(t){var e=this,a="https://atemkeng.com/api/avatar",o=t[0],n=new FormData;n.append("image",o,o.name),c.a.post(a,n).then((function(t){console.log(" UPLOADED AVATAR ::"),e.$store.commit("auth/setUserAvatar",t.data.avatar),e.showUpload=!1,e.label="Saved new avatar",e.showLabel=!1,e.showSave=!0})).catch((function(t){console.log(t)}))},upload:function(){console.log(file);var t="https://atemkeng.com/api/avatar";c.a.post(t).then((function(t){console.log(" FILE ::"),console.log(t.data)})).catch((function(t){console.log(t)}))},showNotif:function(){var t=this.$q.notify({group:!1,timeout:0,spinner:!0,message:"Uploading file...",caption:"0%"}),e=0,a=setInterval((function(){e=Math.min(100,e+Math.floor(22*Math.random())),t({caption:"".concat(e,"%")}),100===e&&(t({icon:"done",spinner:!1,message:"Uploading done!",timeout:2500}),clearInterval(a))}),500)}}},A=k,C=Object(w["a"])(A,U,q,!1,null,null,null),$=C.exports,y={name:"Edit",components:{AvatarUpload:$,MapView:_},props:["user"],data:function(){return{text:"",newAvatar:!1,oldAvatar:!0,editor:!1,dense:!1,submitting:!1,editUser:{about:"",name:"",tagline:"",username:"",formatted_address:"",available_to_hire:!1}}},methods:{simulateSubmit:function(){var t=this;this.submitting=!0;var e="https://atemkeng.com/api/settings/profile";c.a.put(e,this.user).then((function(e){console.log(" AVATAR ::"),console.log(e.data),t.$store.commit("auth/setUser",e.data),t.about=t.$auth.user().about,t.showUpload=!1,t.label="Saved new avatar",t.showLabel=!1,t.showSave=!0})).catch((function(t){console.log(t)})),this.submitting=!1},showEditor:function(){return this.editor=!this.editor},aboutMe:function(){this.editUser.about=this.$auth.user().about},addName:function(){this.editUser.name=this.$auth.user().name},updateInput:function(t){this.$store.commit("auth/setUser"+t,this.$refs[t].value)}}},S=y,E=Object(w["a"])(S,d,m,!1,null,"5d0a67c8",null),M=E.exports,N={name:"AccountHome",components:{Edit:M},data:function(){return{user:{name:"",tagline:"",about:"",available:"",activeInput:!1},submitResult:[]}},methods:{onSubmit:function(t){var e=new FormData(t.target),a=[],o="https://atemkeng.com/api/settings/profile/";c.a.post(o,e).then((function(t){console.log(" RESPONSE ::"),console.log(t.data.data)})).catch((function(t){console.log(t)}));var n,s=l()(e.entries());try{for(s.s();!(n=s.n()).done;){var r=i()(n.value,2),u=r[0],d=r[1];a.push({name:u,value:d})}}catch(m){s.e(m)}finally{s.f()}this.submitResult=a},activeInput:function(){},activateEdit:function(){},editUser:function(t){}},mounted:function(){var t=this;setTimeout((function(){t.user=t.$auth.user()}),1e3)}},F=N,I=Object(w["a"])(F,o,n,!1,null,null,null);e["default"]=I.exports}}]);